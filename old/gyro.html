<!DOCTYPE html>
<html lang="en">
	<body>
		<button id="start_demo">Start Demo</button>
		<script>
			let g = {};
			g.orien = {a: 0, b: 0, g: 0};
			function handleOrientation(event) {
				g.orien.a = event.alpha;
				g.orien.b = event.beta;
				g.orien.c = event.gamma;
			}
			let start_btn = document.getElementById("start_demo");
			start_btn.onclick = function(e) {
				e.preventDefault();
				let dm = DeviceMotionEvent;
				let ty = typeof DeviceMotionEvent.requestPermission === "function";
				if (dm && ty) {
					DeviceMotionEvent.requestPermission();
				}
				start_btn.remove();
				window.addEventListener("deviceorientation", handleOrientation);
			};
		</script>
	</body>
</html>